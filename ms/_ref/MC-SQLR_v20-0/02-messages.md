# Messages

## Transport

The SQL Server Resolution Protocol uses port 1434 of the UDP Protocol
for message transport. When using the UDP Protocol over the
[**IPv4**](#gt_0f25c9b5-dc73-4c3e-9433-f09d1f62ea8e) Protocol, the SQL
Server Resolution Protocol uses a
[**unicast**](#gt_e73c7149-240a-4fad-8a27-5c6b7fdc956a) or broadcast
address, depending on the message type, as specified in section
[2.2](#Section_def8dec45c2b4bfd9531655de3f74954). When using the UDP
Protocol over the [**IPv6**](#gt_64c29bb6-c8b2-4281-9f3a-c1eb5d2288aa)
Protocol, the SQL Server Resolution Protocol uses a unicast or
[**multicast**](#gt_70b74a6e-db1d-4648-bedd-5a524dfe6396) address,
depending on the message type, as specified in section 2.2.

## Message Syntax

All integer fields are represented in
[**little-endian**](#gt_079478cb-f4c5-4ce5-b72b-2144da5d2ce7) format.
All text strings are represented as a multibyte character set (MBCS)
string
[\[MS-UCODEREF\]](%5bMS-UCODEREF%5d.pdf#Section_4a045e08fc294f22baf416f38c2825fb)
on the current system code page of the server and the client. (The
system code page on the client and the system code page on the server
are assumed to be common.) They are not case-sensitive. See
[\[MSDN-CS\]](https://go.microsoft.com/fwlink/?LinkId=90692) for more
information.

The valid requests from the client are as follows:

-   [CLNT_BCAST_EX](#Section_a3035afac2684699b8fd4f351e5c8e9e)

-   [CLNT_UCAST_EX](#Section_ee0e41b0204f4a95b8bd5783a7c72cb2)

-   [CLNT_UCAST_INST](#Section_c97b04b5d80f4d3e919583bbfe246639)

-   [CLNT_UCAST_DAC](#Section_20ebabbf46644f36bee04e3676a7aecd)

The response from the server is always an
[SVR_RESP](#Section_2e1560c9509740239f5e72b9ff1ec3b1) message. The
response contains a string data field that is parsed by the client to
extract the requested information. The contents of this string are not
case-sensitive.

These messages are explained in more detail in the following sections.

### CLNT_BCAST_EX

The CLNT_BCAST_EX packet is a
[**broadcast**](#gt_7f275cc2-a1c5-47d7-83ae-9a84178f2481) or
[**multicast**](#gt_70b74a6e-db1d-4648-bedd-5a524dfe6396) request that
is generated by clients that are trying to identify the list of database
instances on the network and their network protocol connection
information.

<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>1</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>2</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>3</p>
<p>0</p></th>
<th>1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="8">CLNT_BCAST_EX</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**CLNT_BCAST_EX (1 byte):** A single byte whose value MUST be 0x02.

### CLNT_UCAST_EX

The CLNT_UCAST_EX packet is a
[**unicast**](#gt_e73c7149-240a-4fad-8a27-5c6b7fdc956a) request that is
generated by clients that are trying to identify the list of database
instances and their network protocol connection information installed on
a single machine. The client generates a UDP packet with a single byte,
as shown in the following diagram.

<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>1</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>2</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>3</p>
<p>0</p></th>
<th>1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="8">CLNT_UCAST_EX</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**CLNT_UCAST_EX (1 byte):** A single byte whose value MUST be 0x03.

### CLNT_UCAST_INST

The CLNT_UCAST_INST packet is a request for information related to a
specific instance. The structure of the request is as follows.

<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>1</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>2</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>3</p>
<p>0</p></th>
<th>1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="8">CLNT_UCAST_INST</td>
<td colspan="24">INSTANCENAME (variable)</td>
</tr>
<tr class="even">
<td colspan="32">...</td>
</tr>
</tbody>
</table>

**CLNT_UCAST_INST (1 byte):** A single byte whose value MUST be 0x04.

**INSTANCENAME (variable):** A variable-length null-terminated multibyte
character set (MBCS) string that does not need to be byte-aligned. It
MUST be no greater than 32 bytes in length, not including the null
terminator.

**Note**  

-   INSTANCENAME corresponds to the name of the database instance for
    which the information is requested.

### CLNT_UCAST_DAC

The CLNT_UCAST_DAC packet request is used to determine the
[**TCP**](#gt_b08d36f6-b5c6-4ce4-8d2d-6f2ab75ea4cb)
[\[RFC793\]](https://go.microsoft.com/fwlink/?LinkId=150872) port on
which the Microsoft SQL Server [**dedicated administrator connection
(DAC)**](#gt_d50a91b6-9599-4d29-bad9-83fd1f6e6bf6)
[\[MSDN-DAC\]](https://go.microsoft.com/fwlink/?LinkId=95068)
[**endpoint**](#gt_b91c1e27-e8e0-499b-8c65-738006af72ee) is listening.

<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>1</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>2</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>3</p>
<p>0</p></th>
<th>1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="8">CLNT_UCAST_DAC</td>
<td colspan="8">PROTOCOLVERSION</td>
<td colspan="16">INSTANCENAME (variable)</td>
</tr>
<tr class="even">
<td colspan="32">...</td>
</tr>
</tbody>
</table>

**CLNT_UCAST_DAC (1 byte):** A single byte whose value MUST be 0x0F.

**PROTOCOLVERSION (1 byte):** A single byte whose value MUST be 0x01.

**INSTANCENAME (variable):** A variable-length null-terminated multibyte
character set (MBCS) string that does not need to be byte-aligned. It
MUST be no greater than 32 bytes in length, not including the null
terminator.

### SVR_RESP

The server responds to all client requests with an SVR_RESP. There is a
slight variation in the message format for a response to a
[CLNT_UCAST_DAC (section 2.2.4)](#Section_20ebabbf46644f36bee04e3676a7aecd)
request, as described in section
[2.2.6](#Section_45b527217a4845cf9c84e6db905ad6df).

<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>1</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>2</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>3</p>
<p>0</p></th>
<th>1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="8">SVR_RESP</td>
<td colspan="16">RESP_SIZE</td>
<td colspan="8">RESP_DATA (variable)</td>
</tr>
<tr class="even">
<td colspan="32">...</td>
</tr>
</tbody>
</table>

**SVR_RESP (1 byte):** A single byte whose value MUST be 0x05.

**RESP_SIZE (2 bytes):** This unsigned integer specifies the length, in
bytes, of subsequent response data **RESP_DATA**.

**RESP_DATA (variable):** A variable-length MBCS string that does not
need to be byte-aligned. The maximum size of **RESP_DATA** MUST be 1,024
bytes if the server is responding to a [CLNT_UCAST_INST (section
2.2.3)](#Section_c97b04b5d80f4d3e919583bbfe246639) request. If the
server is responding to a [CLNT_BCAST_EX (section
2.2.1)](#Section_a3035afac2684699b8fd4f351e5c8e9e) or a [CLNT_UCAST_EX
(section 2.2.2)](#Section_ee0e41b0204f4a95b8bd5783a7c72cb2) request, the
maximum size of **RESP_DATA** MUST be 65,535 bytes.

**Note**  

-   The content of the **RESP_DATA** string corresponds to the type of
    request received. For example, a CLNT_UCAST_EX request is answered
    with a CLNT_UCAST_EX response string. The formal syntax of the
    message is provided in Augmented Backus-Naur Form (ABNF), as
    specified in
    [\[RFC4234\]](https://go.microsoft.com/fwlink/?LinkId=90462).

-   All responses to client requests contain information about one or
    more of the following transports:

    -   [**TCP**](#gt_b08d36f6-b5c6-4ce4-8d2d-6f2ab75ea4cb)
        [\[RFC793\]](https://go.microsoft.com/fwlink/?LinkId=150872)

    -   [**Named Pipes**](#gt_34f1dfa8-b1df-4d77-aa6e-d777422f9dca) in
        message mode
        [\[MSDN-NP\]](https://go.microsoft.com/fwlink/?LinkId=90247).
        See
        [\[MSDN-NamedPipes\]](https://go.microsoft.com/fwlink/?LinkId=127839)
        for additional information related to Microsoft-specific
        implementations.

    -   A reliable transport over the [**Virtual Interface Architecture
        (VIA)**](#gt_c35909bd-185e-4b60-be82-995a0318873e) interface
        \[VIA2002\].

1.  RESP_DATA = CLNT_BCAST_EX_RESPONSE / CLNT_UCAST_EX_RESPONSE /
    CLNT_UCAST_INST_RESPONSE

    CLNT_BCAST_EX_RESPONSE = CLNT_UCAST_EX_RESPONSE

    CLNT_UCAST_EX_RESPONSE = \*\[CLNT_UCAST_INST_RESPONSE\]

    CLNT_UCAST_INST_RESPONSE = \"ServerName\" SEMICOLON SERVERNAME
    SEMICOLON

    \"InstanceName\" SEMICOLON INSTANCENAME SEMICOLON \"IsClustered\"

    SEMICOLON YES_OR_NO SEMICOLON \"Version\" SEMICOLON VERSION_STRING

    \[NP_INFO\] \[TCP_INFO\] \[VIA_INFO\] \[RPC_INFO\] \[SPX_INFO\]
    \[ADSP_INFO\]

    \[BV_INFO\] SEMICOLON SEMICOLON ; see Note 1

+-------------+--------------------------------------------------------+
| Name        | Value                                                  |
+=============+========================================================+
| SEMICOLON   | SEMICOLON = \";\"                                      |
+-------------+--------------------------------------------------------+
| SERVERNAME  | The name of the server. The SERVERNAME MUST be no      |
|             | greater than 255 bytes.                                |
+-------------+--------------------------------------------------------+
| I           | A text string that represents the name of the server   |
| NSTANCENAME | instance being described. The INSTANCENAME MUST be no  |
|             | greater than 255 bytes but SHOULD be no greater than   |
|             | 16 MBCS characters.                                    |
+-------------+--------------------------------------------------------+
| YES_OR_NO   | YES_OR_NO= \"Yes\" / \"No\"                            |
+-------------+--------------------------------------------------------+
| VER         | A text string that conveys the version of the server   |
| SION_STRING | instance. The VERSION_STRING MUST be no greater than   |
|             | 16 bytes. VERSION_STRING MUST NOT be empty and MUST    |
|             | appear as follows:                                     |
|             |                                                        |
|             | VERSION_STRING=1\*\[0-9\".\"\]                         |
+-------------+--------------------------------------------------------+
| NP_INFO     | NP_INFO=SEMICOLON \"np\" SEMICOLON NP_PARAMETERS       |
+-------------+--------------------------------------------------------+
| NP          | NP_PARAMETERS=PIPENAME                                 |
| _PARAMETERS |                                                        |
+-------------+--------------------------------------------------------+
| PIPENAME    | A text string that represents the pipe name            |
|             | \[MSDN-NP\].                                           |
+-------------+--------------------------------------------------------+
| TCP_INFO    | TCP_INFO=SEMICOLON \"tcp\" SEMICOLON TCP_PARAMETERS    |
+-------------+--------------------------------------------------------+
| TCP         | TCP_PARAMETERS = TCP_PORT                              |
| _PARAMETERS |                                                        |
+-------------+--------------------------------------------------------+
| TCP_PORT    | A text string that represents the decimal value of the |
|             | TCP port that is used to connect to the requested      |
|             | server instance. TCP_PORT SHOULD be a valid TCP port   |
|             | as specified in \[RFC793\]; see Note 2.                |
+-------------+--------------------------------------------------------+
| VIA_INFO    | VIA_INFO=SEMICOLON \"via\" SEMICOLON VIA_PARAMETERS;   |
|             | see Note 3.                                            |
+-------------+--------------------------------------------------------+
| VIA         | VIA_PARAMETERS=NETBIOS VIALISTENINFO                   |
| _PARAMETERS |                                                        |
+-------------+--------------------------------------------------------+
| VI          | VIALISTENINFO =1\*\[\",\" VIANIC \":\" VIAPORT\].      |
| ALISTENINFO |                                                        |
+-------------+--------------------------------------------------------+
| VIANIC      | A text string that represents the VIA network          |
|             | interface card (NIC) identifier. VIANIC SHOULD be a    |
|             | valid VIA Adapter NIC number \[VIA2002\].              |
+-------------+--------------------------------------------------------+
| VIAPORT     | A text string that represents the decimal value of the |
|             | VIA NIC\'s port. VIAPORT SHOULD be a valid VIA Adapter |
|             | port number \[VIA2002\].                               |
+-------------+--------------------------------------------------------+
| NETBIOS     | A text string that MUST be no greater than 15 bytes    |
|             | and that represents the NetBIOS name of a machine      |
|             | where the server resides.                              |
+-------------+--------------------------------------------------------+
| RPC_INFO    | SEMICOLON \"rpc\" SEMICOLON RPC_PARAMETERS             |
+-------------+--------------------------------------------------------+
| RPC         | RPC_PARAMETERS=COMPUTERNAME                            |
| _PARAMETERS |                                                        |
+-------------+--------------------------------------------------------+
| C           | The name of the computer to connect to. SHOULD be no   |
| OMPUTERNAME | more than 127 MBCS characters.                         |
+-------------+--------------------------------------------------------+
| SPX_INFO    | SPX_INFO=SEMICOLON \"spx\" SEMICOLON SPX_PARAMETERS    |
+-------------+--------------------------------------------------------+
| SPX         | SPX_PARAMETERS=SERVICENAME                             |
| _PARAMETERS |                                                        |
+-------------+--------------------------------------------------------+
| SERVICENAME | The SPX service name of the server. MUST NOT be        |
|             | greater than 1,024 bytes and SHOULD be no more than    |
|             | 127 MBCS characters.                                   |
+-------------+--------------------------------------------------------+
| ADSP_INFO   | ADSP_INFO=SEMICOLON \"adsp\" SEMICOLON ADSP_PARAMETERS |
+-------------+--------------------------------------------------------+
| ADSP        | ADSP_PARAMETERS=ADSPOBJECTNAME                         |
| _PARAMETERS |                                                        |
+-------------+--------------------------------------------------------+
| ADS         | The AppleTalk service object name. SHOULD be no more   |
| POBJECTNAME | than 127 MBCS characters.                              |
+-------------+--------------------------------------------------------+
| BV_INFO     | BV_INFO=SEMICOLON \"bv\" SEMICOLON ITEMNAME SEMICOLON  |
|             | GROUPNAME SEMICOLON BV_PARAMETERS                      |
+-------------+--------------------------------------------------------+
| BV          | BV_PARAMETERS=ITEMNAME SEMICOLON GROUPNAME SEMICOLON   |
| _PARAMETERS | ORGNAME                                                |
+-------------+--------------------------------------------------------+
| ITEMNAME    | The Banyan VINES item name. SHOULD be no more than 127 |
|             | MBCS characters.                                       |
+-------------+--------------------------------------------------------+
| GROUPNAME   | The Banyan VINES group name. SHOULD be no more than    |
|             | 127 MBCS characters.                                   |
+-------------+--------------------------------------------------------+
| ORGNAME     | The Banyan VINES organization name. SHOULD be no more  |
|             | than 127 MBCS characters.                              |
+-------------+--------------------------------------------------------+

**Note**  

1.  NP_INFO, TCP_INFO, VIA_INFO, RPC_INFO, SPX_INFO, ADSP_INFO, and
    BV_INFO[\<1\>](\l) can be listed in any order, and each token that
    is listed MUST NOT be listed more than one time. Multiple protocols
    can be sent in the response. The TCP_PORT in TCP_INFO MUST be in the
    range defined by \[RFC793\].

2.  VIA_INFO SHOULD cumulatively be no greater than 128 bytes.

3.  The size of the SQL Server Resolution Protocol response MUST be no
    greater than 1,024 bytes per instance.

### SVR_RESP (DAC)

The format of the SVR_RESP is different for a
[CLNT_UCAST_DAC](#Section_20ebabbf46644f36bee04e3676a7aecd) request
only.

<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>1</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>2</p>
<p>0</p></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th><p>3</p>
<p>0</p></th>
<th>1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="8">SVR_RESP</td>
<td colspan="16">RESP_SIZE</td>
<td colspan="8">PROTOCOLVERSION</td>
</tr>
<tr class="even">
<td colspan="16">TCP_DAC_PORT</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**SVR_RESP (1 byte):** A single byte whose value MUST be 0x05.

**RESP_SIZE (2 bytes):** This unsigned integer specifies the length of
the entire response packet, in bytes. The value of this field MUST be
0x06.

**PROTOCOLVERSION (1 byte):** A single byte whose value MUST be 0x01.

**TCP_DAC_PORT (2 bytes):** The value of the
[**TCP**](#gt_b08d36f6-b5c6-4ce4-8d2d-6f2ab75ea4cb) port number that is
used for [**DAC**](#gt_d50a91b6-9599-4d29-bad9-83fd1f6e6bf6).

**Note**  

-   All responses to client requests contain information about the
    following transport:

    -   TCP [\[RFC793\]](https://go.microsoft.com/fwlink/?LinkId=150872)

